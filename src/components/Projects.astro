---
import { projects } from "../assets/data";
import { videos } from "../assets/data";

---

<section 
  id="projects" 
  class="scroll-mt-36 opacity-0 translate-y-10 transition-all duration-700 ease-out"
>
  <div class="w-[75%] mx-auto mt-40 mb-10 animate-fade-in-up">
    <h2 class="font-bold w-fit md:mx-0 md:ml-5 sm:text-6xl xs:text-5xl xs:mx-auto">
      Projects
    </h2>
  </div>

  <div 
    id="projects-grid"
    class="grid mx-auto gap-6 mb-8 xl:grid-cols-4 xl:w-4/5 lg:grid-cols-3 md:w-[85%] md:grid-cols-2 xs:grid-cols-1 xs:w-[90%]"
  >
    {projects.map((card) => {
   const videoUrl = videos[card.slug as keyof typeof videos] || "";

      return (
        <div 
          class="parent-container group hover:scale-[105%] transition-transform duration-300 ease-in relative bg-cover bg-center h-[300px] cursor-pointer overflow-hidden"
          data-project-title={card.title}
          data-project-description={card.description}
          data-project-image={card.image}
          data-project-video={videoUrl}   
        >
          <div 
            class="container absolute bottom-0 left-0 w-full h-full bg-cover bg-center rounded-lg shadow-lg transition-all transform hover:translate-y-[-20px]"
            style={`background-image: url(${card.image})`}
          >
            <div class="absolute inset-0 bg-black/20 dark:bg-black/40 rounded-lg"></div>

            <!-- Title & Description -->
            <div class="absolute bottom-5 left-5 px-5">
              <h3 class="text-5xl font-bold text-white transition-colors">
                {card.title}
              </h3>
              <p class="text-white/80 dark:text-gray-300 md:text-base xxs:text-sm xs:text-xs opacity-0 transition-opacity duration-300 group-hover:opacity-100">
                {card.description.slice(0, 60)}...
              </p>
            </div>
          </div>
        </div>
      );
    })}
  </div>
</section>



<!-- Project Modal -->
<div
  id="project-modal"
  class="fixed inset-0 flex justify-center items-center bg-black/70 z-[100] hidden opacity-0 transition-opacity duration-200 animate-fade-in"
>
  <div
    id="project-modal-content"
    class="relative w-full max-w-[90vw] sm:max-w-[80vw] md:max-w-[70vw] lg:max-w-[60vw] xl:max-w-[50vw] 
    max-h-[85vh] overflow-y-auto flex flex-col gap-6 
    bg-gradient-to-b from-white to-orange-100 dark:from-gray-900 dark:to-orange-300/90 
    p-6 md:p-10 lg:p-12 xl:p-14  
    rounded-lg shadow-xl transform scale-95 transition-transform duration-400 mt-16 md:mt-20 lg:mt-24"
  >


    <h2 id="project-modal-title" class="text-gray-900 dark:text-white text-3xl md:text-4xl font-bold text-center p-6"></h2>


    <div id="project-media-container" class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-center justify-center w-full">
      

      <img 
        id="project-modal-image" 
        class="w-full max-w-[300px] sm:max-w-[400px] lg:max-w-[100%] 
        max-h-[50vh] rounded-lg shadow-xl border-4 border-orange-200 
        object-contain transition-transform duration-300 hover:scale-105"
      >

      <!-- Video -->
      <video 
        id="project-modal-video" 
        controls 
        class="hidden w-full max-w-[600px] sm:max-w-[700px] lg:max-w-[100%]  
        max-h-[60vh] rounded-lg shadow-lg border-4 border-orange-200"
      ></video>
    </div>

  
    <p id="project-modal-description" class="text-gray-600 dark:text-gray-300 text-lg md:text-xl max-w-2xl mx-auto text-center leading-relaxed p-4"></p>

  </div>
</div>






<script src="/src/assets/projectModal.js" defer></script>